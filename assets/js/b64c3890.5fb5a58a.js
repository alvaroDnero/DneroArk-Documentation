"use strict";(self.webpackChunkdnero_ark_documentation=self.webpackChunkdnero_ark_documentation||[]).push([[3474],{6490:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"Api/1 Login","title":"Login","description":"CreateOTP","source":"@site/docs/Api/1 Login.md","sourceDirName":"Api","slug":"/Api/1 Login","permalink":"/DneroArk-Documentation/docs/Api/1 Login","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Api/1 Login.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Api","permalink":"/DneroArk-Documentation/docs/category/api"},"next":{"title":"Home","permalink":"/DneroArk-Documentation/docs/Api/2 home"}}');var o=i(4848),d=i(8453);const r={},l="Login",c={},a=[{value:"<strong>CreateOTP</strong>",id:"createotp",level:2},{value:"Par\xe1metros del endpoint:",id:"par\xe1metros-del-endpoint",level:3},{value:"Acci\xf3n del servidor",id:"acci\xf3n-del-servidor",level:3},{value:"Resultado positivo:",id:"resultado-positivo",level:3},{value:"Resultado negativo:",id:"resultado-negativo",level:3},{value:"<strong>ConfirmOTP</strong>",id:"confirmotp",level:2},{value:"Par\xe1metros del endpoint:",id:"par\xe1metros-del-endpoint-1",level:3},{value:"Sugerencias:",id:"sugerencias",level:3},{value:"Acci\xf3n del servidor",id:"acci\xf3n-del-servidor-1",level:3},{value:"Resultado positivo:",id:"resultado-positivo-1",level:3},{value:"Resultado negativo:",id:"resultado-negativo-1",level:3},{value:"<strong>UpdateAccessToken</strong>",id:"updateaccesstoken",level:2},{value:"Header del endpoint:",id:"header-del-endpoint",level:3},{value:"Acci\xf3n del servidor",id:"acci\xf3n-del-servidor-2",level:3},{value:"Resultado positivo:",id:"resultado-positivo-2",level:3},{value:"Resultado negativo:",id:"resultado-negativo-2",level:3},{value:"<strong>UpdateRefreshToken</strong>",id:"updaterefreshtoken",level:2},{value:"Header del endpoint:",id:"header-del-endpoint-1",level:3},{value:"Acci\xf3n del servidor",id:"acci\xf3n-del-servidor-3",level:3},{value:"Resultado positivo:",id:"resultado-positivo-3",level:3},{value:"Resultado negativo:",id:"resultado-negativo-3",level:3},{value:"<strong>Desconectarse</strong>",id:"desconectarse",level:2},{value:"Acci\xf3n del servidor",id:"acci\xf3n-del-servidor-4",level:3},{value:"Header del endpoint:",id:"header-del-endpoint-2",level:3},{value:"Resultado positivo:",id:"resultado-positivo-4",level:3},{value:"Resultado negativo:",id:"resultado-negativo-4",level:3}];function t(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"login",children:"Login"})}),"\n",(0,o.jsx)(n.h2,{id:"createotp",children:(0,o.jsx)(n.strong,{children:"CreateOTP"})}),"\n",(0,o.jsx)(n.h3,{id:"par\xe1metros-del-endpoint",children:"Par\xe1metros del endpoint:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"n\xfamero de tel\xe9fono sin condigo de pa\xeds"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"c\xf3digo de pa\xeds"})}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"acci\xf3n-del-servidor",children:"Acci\xf3n del servidor"}),"\n",(0,o.jsx)(n.p,{children:"haga la validaci\xf3n de si el numero existe dentro de los registros, si existe genera un OTP con un periodo de vigencia de pocos minutos, si el usuario repite muchas veces el inicio de sesi\xf3n, que no se genere un nuevo OTP hasta dentro de unos minutos y que tenga un l\xedmite de intentos v\xe1lidos, luego de ello, que el usuario tenga un periodo de espera, si no se tiene registro de sesi\xf3n activa en otro dispositivo proceda con el OTP, si se tiene registro de tener la sesi\xf3n abierta en otro dispositivo, denegar el inicio de sesi\xf3n."}),"\n",(0,o.jsx)(n.h3,{id:"resultado-positivo",children:"Resultado positivo:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"recibir un mensaje en el dispositivo con el OTP"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"resultado-negativo",children:"Resultado negativo:"}),"\n",(0,o.jsx)(n.p,{children:"Posibles mensajes"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Retorne un mensaje donde especifique que el n\xfamero no existe dentro de los registros."}),"\n",(0,o.jsx)(n.li,{children:"Sesi\xf3n abierta en otro dispositivo, ci\xe9rrala y vuelve a intentarlo."}),"\n",(0,o.jsx)(n.li,{children:"A intentado iniciar sesi\xf3n demasiadas veces en poco tiempo."}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"confirmotp",children:(0,o.jsx)(n.strong,{children:"ConfirmOTP"})}),"\n",(0,o.jsx)(n.h3,{id:"par\xe1metros-del-endpoint-1",children:"Par\xe1metros del endpoint:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"n\xfamero de tel\xe9fono sin condigo de pa\xeds"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"c\xf3digo de pa\xeds"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"c\xf3digo OTP"})}),"\n",(0,o.jsxs)(n.li,{children:["? ",(0,o.jsx)(n.code,{children:"ip del dispositivo"})]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"sugerencias",children:"Sugerencias:"}),"\n",(0,o.jsx)(n.p,{children:"Ser\xeda ideal Almacenar informaci\xf3n de dispositivo, algo as\xed como la ip publica o la direcci\xf3n f\xedsica, para as\xed evitar que la sesi\xf3n sea abierta en m\xe1s de un dispositivo"}),"\n",(0,o.jsx)(n.h3,{id:"acci\xf3n-del-servidor-1",children:"Acci\xf3n del servidor"}),"\n",(0,o.jsx)(n.p,{children:"Validar el OTP, si es correcto eliminar el c\xf3digo para que no pueda volver a ser usado, validar que OTP no haya expirado, si el usuario coloca incorrectamente el c\xf3digo mas de 5 veces, el usuario tendr\xe1 que esperar un cooldown de x minutos, despu\xe9s tendr\xeda que generar el OTP de nuevo."}),"\n",(0,o.jsx)(n.h3,{id:"resultado-positivo-1",children:"Resultado positivo:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["cuerpo que contenga: ",(0,o.jsx)(n.code,{children:"accessToken"}),", ",(0,o.jsx)(n.code,{children:"refreshToken"}),", ",(0,o.jsx)(n.code,{children:"userID"})]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"resultado-negativo-1",children:"Resultado negativo:"}),"\n",(0,o.jsx)(n.p,{children:"Posibles mensajes:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"c\xf3digo incorrecto"}),"\n",(0,o.jsx)(n.li,{children:"c\xf3digo ha expirado"}),"\n",(0,o.jsx)(n.li,{children:"Introdujo el condigo incorrecto muchas veces, espere durante 5 min para volver a intentar"}),"\n",(0,o.jsx)(n.li,{}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"updateaccesstoken",children:(0,o.jsx)(n.strong,{children:"UpdateAccessToken"})}),"\n",(0,o.jsx)(n.h3,{id:"header-del-endpoint",children:"Header del endpoint:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"accessToken"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"refreshToken"})}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"acci\xf3n-del-servidor-2",children:"Acci\xf3n del servidor"}),"\n",(0,o.jsxs)(n.p,{children:["Eliminar el ",(0,o.jsx)(n.code,{children:"accessToken"})," actual y generar uno nuevo"]}),"\n",(0,o.jsx)(n.h3,{id:"resultado-positivo-2",children:"Resultado positivo:"}),"\n",(0,o.jsxs)(n.p,{children:["Retorna un nuevo ",(0,o.jsx)(n.code,{children:"accessToken"})]}),"\n",(0,o.jsx)(n.h3,{id:"resultado-negativo-2",children:"Resultado negativo:"}),"\n",(0,o.jsx)(n.p,{children:"Posibles mensajes"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"accessToken"})," invalido"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"refreshToken"})," invalido"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"updaterefreshtoken",children:(0,o.jsx)(n.strong,{children:"UpdateRefreshToken"})}),"\n",(0,o.jsx)(n.h3,{id:"header-del-endpoint-1",children:"Header del endpoint:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"accessToken"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"refreshToken"})}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"acci\xf3n-del-servidor-3",children:"Acci\xf3n del servidor"}),"\n",(0,o.jsxs)(n.p,{children:["Eliminar el ",(0,o.jsx)(n.code,{children:"refreshToken"})," actual y generar uno nuevo"]}),"\n",(0,o.jsx)(n.h3,{id:"resultado-positivo-3",children:"Resultado positivo:"}),"\n",(0,o.jsxs)(n.p,{children:["Retorna un nuevo ",(0,o.jsx)(n.code,{children:"refreshToken"})]}),"\n",(0,o.jsx)(n.h3,{id:"resultado-negativo-3",children:"Resultado negativo:"}),"\n",(0,o.jsx)(n.p,{children:"Posibles mensajes"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"refreshToken "})," invalido"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"desconectarse",children:(0,o.jsx)(n.strong,{children:"Desconectarse"})}),"\n",(0,o.jsx)(n.h3,{id:"acci\xf3n-del-servidor-4",children:"Acci\xf3n del servidor"}),"\n",(0,o.jsx)(n.p,{children:"Eliminar la informacion de session"}),"\n",(0,o.jsx)(n.h3,{id:"header-del-endpoint-2",children:"Header del endpoint:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"accessToken"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"refreshToken"})}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"resultado-positivo-4",children:"Resultado positivo:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"null"})}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"resultado-negativo-4",children:"Resultado negativo:"}),"\n",(0,o.jsx)(n.p,{children:"Posibles mensajes"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"accessToken"})," invalido"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"refreshToken"})," invalido"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(t,{...e})}):t(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var s=i(6540);const o={},d=s.createContext(o);function r(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);